<div class="category-wrapper">
  <a
    class="all {{ selectedKey === 'all' ? 'selected' : '' }}"
    (click)="select('all', 'all')"
    >All ({{ allCount }})</a
  >
  <ng-container *ngFor="let category of categorys">
    <span
      class="group {{ selectedKey === category.id ? 'selected' : '' }}"
      (click)="select(category.id, 'group')"
    >
      <a>{{ category.name }} ({{ category.count }})</a>
      <i
        class="toggle-expand"
        nz-icon
        [nzType]="category.expanded ? 'down' : 'right'"
        nzTheme="outline"
        (click)="
          $event.stopPropagation(); category.expanded = !category.expanded
        "
      ></i>
    </span>
    <ng-container
      *ngIf="category.children && category.children.length && category.expanded"
    >
      <span
        class="leaf {{ selectedKey === subCategory.id ? 'selected' : '' }}"
        *ngFor="let subCategory of category.children"
        (click)="select(subCategory.id, 'leaf')"
      >
        <a>{{ subCategory.name }} ({{ subCategory.count }})</a>
      </span>
    </ng-container>
  </ng-container>
</div>
